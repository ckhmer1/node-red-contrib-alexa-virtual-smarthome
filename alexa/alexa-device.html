<script type="text/javascript">
    (function () {
        function isNaturalNumber(v) {
            if (v === undefined) return true;
            const n = parseInt(v);
            const f = parseFloat(v);
            return !isNaN(v) && Number.isInteger(f) && n >= 0;
        }
        function isMandatoryIngeterNumber(v) {
            if (v === undefined) return true;
            const n = parseInt(v);
            const f = parseFloat(v);
            return !isNaN(v) && Number.isInteger(f);
        }
        function isIngeterNumber(v) {
            if (v === undefined) return true;
            if (typeof v === "number") {
                v = v.toString();
            }
            if (v.trim().length === 0) {
                return true;
            }
            return isMandatoryIngeterNumber(v);
        }
        function isMandatoryPositiveNumber(v) {
            if (v === undefined) return true;
            const n = parseFloat(v);
            return !isNaN(v) && n > 0;
        }
        function isPositiveNumber(v) {
            if (v === undefined) return true;
            if (typeof v === "number") {
                v = v.toString();
            }
            if (v.trim().length === 0) {
                return true;
            }
            return isMandatoryPositiveNumber(v);
        }
        function isValidPinCODE(v) {
            if (v === undefined) return true;
            if (typeof v === "number") {
                v = v.toString();
            }
            if (v.trim().length === 0) {
                return true;
            }
            return isNaturalNumber(v) && v.trim().length === 4;
        }
        function isPositiveNumber255(v) {
            if (v === undefined) return true;
            if (typeof v === "number") {
                v = v.toString();
            }
            if (v.trim().length === 0) {
                return true;
            }
            return isNaturalNumber(v) && parseInt(v) <= 255;
        }
        RED.nodes.registerType('alexa-device', {
            category: 'alexa-home',
            color: '#3FADB5',
            defaults: {
                alexa: { value: "", type: "alexa-adapter" },
                name: { value: "", required: true },
                display_categories: { value: [], required: true },
                topic: { value: "", required: false },
                a_inputs: { value: ['AUX_1', 'AUX_2', 'AUX_3', 'AUX_4', 'AUX_5', 'AUX_6', 'AUX_7', 'BLURAY', 'CABLE', 'CD', 'COAX_1', 'COAX_2', 'COMPOSITE_1', 'DVD', 'GAME', 'HD_RADIO', 'HDMI_1', 'HDMI_2', 'HDMI_3', 'HDMI_4', 'HDMI_5', 'HDMI_6', 'HDMI_7', 'HDMI_8', 'HDMI_9', 'HDMI_10', 'HDMI_ARC', 'INPUT_1', 'INPUT_2', 'INPUT_3', 'INPUT_4', 'INPUT_5', 'INPUT_6', 'INPUT_7', 'INPUT_8', 'INPUT_9', 'INPUT_10', 'IPOD', 'LINE_1', 'LINE_2', 'LINE_3', 'LINE_4', 'LINE_5', 'LINE_6', 'LINE_7', 'MEDIA_PLAYER', 'OPTICAL_1', 'OPTICAL_2', 'PHONO', 'PLAYSTATION', 'PLAYSTATION_3', 'PLAYSTATION_4', 'SATELLITE', 'SMARTCAST', 'TUNER', 'TV', 'USB_DAC', 'VIDEO_1', 'VIDEO_2', 'VIDEO_3', 'XBOX'], required: false },
                i_automation_management: { value: false, required: false },
                i_brightness_controller: { value: false, required: false },
                i_camera_stream_controller: { value: false, required: false },
                i_channel_controller: { value: false, required: false },
                i_color_controller: { value: false, required: false },
                i_color_temperature_controller: { value: false, required: false },
                i_contact_sensor: { value: false, required: false },
                i_doorbell_event_source: { value: false, required: false },
                i_endpoint_health: { value: true, required: false },
                i_equalizer_controller: { value: false, required: false },
                i_device_usage_estimation: { value: false, required: false },
                i_event_detection_sensor: { value: false, required: false },
                i_input_controller: { value: false, required: false },
                i_inventory_level_sensor: { value: false, required: false },
                i_inventory_usage_sensor: { value: false, required: false },
                i_keypad_controller: { value: false, required: false },
                a_kc_keys: { value: [], required: false },
                i_lock_controller: { value: false, required: false },
                i_media_metadata: { value: false, required: false },
                i_device_usage_meter: { value: false, required: false },
                i_mode_controller: { value: false, required: false },
                i_motion_sensor: { value: false, required: false },
                i_percentage_controller: { value: false, required: false },
                i_playback_controller: { value: false, required: false },
                i_playback_state_reporter: { value: false, required: false },
                a_playback_modes: { value: [], required: false },
                i_power_controller: { value: false, required: false },
                i_power_level_controller: { value: false, required: false },
                i_range_controller: { value: false, required: false },
                i_rtc_session_controller: { value: false, required: false },
                i_scene_controller: { value: false, required: false },
                i_security_panel_controller: { value: false, required: false },
                i_speaker: { value: false, required: false },
                i_step_speaker: { value: false, required: false },
                i_timehold_controller: { value: false, required: false },
                allow_remote_resume: { value: false, required: false },
                i_temperature_sensor: { value: false, required: false },
                i_thermostat_controller: { value: false, required: false },
                a_target_setpoint: { value: false, required: false },
                a_lower_setpoint: { value: false, required: false },
                a_upper_setpoint: { value: false, required: false },
                a_modes: { value: [], required: false },
                a_supports_scheduling: { value: false, required: false },
                i_thermostat_controller_hvac_components: { value: false, required: false },
                i_toggle_controller: { value: false, required: false },
                i_wake_on_lan_controller: { value: false, required: false },
                camera_stream_configurations: {
                    value: [{ p: [], t: [], v: [], a: [], r: [] }],
                    validate: function (camera_stream_configurations) {
                        if (!camera_stream_configurations || camera_stream_configurations.length === 0) { return true }
                        for (var i = 0; i < camera_stream_configurations.length; i++) {
                            var c = camera_stream_configurations[i];
                            if (c.p.length === 0 && c.t.length === 0 && c.v.length === 0 && c.a.length === 0 && c.r.trim().length === 0) {
                                return true;
                            }
                            if (c.p.length === 0) {
                                return false;
                            }
                            if (c.t.length === 0) {
                                return false;
                            }
                            if (c.v.length === 0) {
                                return false;
                            }
                            if (c.a.length === 0) {
                                return false;
                            }
                            /*var r = c.r.split(";");
                            if (r.length === 0) {
                                return false;
                            }
                            var ris_ok = true;
                            r.forEach(function (ri) {
                                var wh = ri.split("*");
                                if (wh.length !== 2 || !isNaturalNumber(wh[0]) || !isNaturalNumber(wh[1]) || wh[1] < 480 || wh[1] > 1080) {
                                    ris_ok = false;
                                }
                                // TODO check width and height
                            });*/
                            var ris_ok = true;
                            c.r.forEach(function (wh) {
                                if (wh.length !== 2 || !isNaturalNumber(wh[0]) || !isNaturalNumber(wh[1]) || wh[1] < 480 || wh[1] > 1080) {
                                    ris_ok = false;
                                }
                            });
                            return ris_ok;
                        }
                        return true;
                    }
                },
                bands: { value: [], required: false },
                modes: { value: [], required: false },
                band_range_min: { value: -6, required: false, validate: isIngeterNumber },
                band_range_max: { value: 6, required: false, validate: isIngeterNumber },
                standby_wattage: { value: '', required: false, validate: isPositiveNumber },
                maximum_wattage: { value: '', required: false, validate: isPositiveNumber },
                //on_wattage: { value: '', required: false, validate: isPositiveNumber },
                arm_state: { value: [], required: false },
                alarms: { value: [], required: false },
                pin_code: { value: '', required: false, validate: isValidPinCODE },
                exit_delay: { value: '', required: false, validate: isPositiveNumber255 },
                mac_addresses: { value: [], required: false },
                primary_heater_operation: { value: '', required: false },
                auxiliary_heater_operation: { value: false, required: false },
                cooler_operation: { value: '', required: false },
                fan_operation: { value: '', required: false },
                electricity_measuring_method: { value: '', required: false },
                electricity_unit: { value: 'MILLIWATT_HOUR', required: false },
                electricity_default_resolution: { value: 3600, required: false },
                natural_gas_measuring_method: { value: '', required: false },
                natural_gas_unit: { value: 'CUBIC_FOOT', required: false },
                natural_gas_default_resolution: { value: 3600, required: false },
                toggles: {
                    value: [], required: false, validate: function (toggles) {
                        if (!toggles || toggles.length === 0) { return true }
                        let instance_dict = {};
                        for (var i = 0; i < toggles.length; i++) {
                            var t = toggles[i];
                            if (t.instance.trim() || t.capability_resources.trim() || t.semantics.trim()) {
                                if (!t.instance.trim()) {
                                    console.log(i + "] Toggle instance not filled.");
                                    return false;
                                }
                                if (instance_dict.hasOwnProperty(t.instance.trim())) {
                                    console.log(i + "] Toggle instance " + r.instance.trim() + " already used.");
                                    return false;
                                }
                                try {
                                    JSON.parse(t.capability_resources);
                                } catch (e) {
                                    console.log(i + "] Toggle capability resources is not valid");
                                    return false;
                                }
                                if (t.semantics) {
                                    try {
                                        JSON.parse(t.semantics);
                                    } catch (e) {
                                        console.log(i + "] Toggle semantics is not valid");
                                        return false;
                                    }
                                }
                                instance_dict[t.instance.trim()] = 1;
                            }
                        }
                        return true;
                    }
                },
                ranges: {
                    value: [], required: false, validate: function (ranges) {
                        if (!ranges || ranges.length === 0) { return true }
                        let instance_dict = {};
                        for (var i = 0; i < ranges.length; i++) {
                            var r = ranges[i];
                            if (r.instance.trim() || r.capability_resources.trim() || r.semantics.trim() || r.min.trim() || r.max.trim() || r.precision.trim() || r.presets.trim()) {
                                if (r.instance.trim()) {
                                    if (instance_dict.hasOwnProperty(r.instance.trim())) {
                                        console.log(i + "] Range instance " + r.instance.trim() + " already used.");
                                        return false;
                                    }
                                } else {
                                    console.log(i + "] Range instance not filled.");
                                    return false;
                                }
                                let min = 0;
                                let max = 100;
                                let precision = 1;
                                if (r.min.trim()) {
                                    if (isIngeterNumber(r.min)) {
                                        min = parseInt(r.min);
                                    } else {
                                        console.log(i + "] Range min is not a number");
                                        return false;
                                    }
                                }
                                if (r.max.trim()) {
                                    if (isIngeterNumber(r.max)) {
                                        max = parseInt(r.max);
                                    } else {
                                        console.log(i + "] Range max is not a number");
                                        return false;
                                    }
                                }
                                if (r.precision.trim()) {
                                    if (isIngeterNumber(r.precision)) {
                                        precision = parseInt(r.precision);
                                    } else {
                                        console.log(i + "] Range precision is not a number");
                                        return false;
                                    }
                                }

                                if (max < min) {
                                    console.log(i + "] Range min is greather than max");
                                    return false;
                                }

                                if (r.capability_resources.trim()) {
                                    try {
                                        JSON.parse(r.capability_resources);
                                    } catch (e) {
                                        console.log(i + "] Range capability resources is not valid");
                                        return false;
                                    }
                                } else {
                                    return false;
                                }
                                if (r.semantics.trim()) {
                                    try {
                                        JSON.parse(r.semantics);
                                    } catch (e) {
                                        console.log(i + "] Range semantics is not valid");
                                        return false;
                                    }
                                }
                                if (r.presets.trim()) {
                                    try {
                                        JSON.parse(r.presets);
                                    } catch (e) {
                                        console.log(i + "] Range presets is not valid");
                                        return false;
                                    }
                                }
                                instance_dict[r.instance.trim()] = 1;
                            }
                        }
                        return true;
                    }
                },
                c_modes: {
                    value: [], required: false, validate: function (modes) {
                        if (!modes || modes.length === 0) { return true }
                        let instance_dict = {};
                        for (var i = 0; i < modes.length; i++) {
                            var m = modes[i];
                            if (m.instance.trim() || m.capability_resources.trim() || m.semantics.trim() || m.supported_modes.trim()) {
                                if (m.instance.trim()) {
                                    if (instance_dict.hasOwnProperty(m.instance.trim())) {
                                        console.log(i + "] Mode instance " + m.instance.trim() + " already used.");
                                        return false;
                                    }
                                } else {
                                    console.log(i + "] Mode instance not filled.");
                                    return false;
                                }
                                if (m.capability_resources.trim()) {
                                    try {
                                        JSON.parse(m.capability_resources);
                                    } catch (e) {
                                        console.log(i + "] Mode capability resources is not valid");
                                        return false;
                                    }
                                } else {
                                    return false;
                                }
                                if (m.semantics.trim()) {
                                    try {
                                        JSON.parse(m.semantics);
                                    } catch (e) {
                                        console.log(i + "] Mode semantics is not valid");
                                        return false;
                                    }
                                }
                                if (m.supported_modes.trim()) {
                                    try {
                                        const supported_modes = JSON.parse(m.supported_modes);
                                        if (!Array.isArray(supported_modes)) {
                                            console.log(i + "] Mode supported modes must be an array");
                                            return false;
                                        }
                                    } catch (e) {
                                        console.log(i + "] Mode supported modes is not valid");
                                        return false;
                                    }
                                }
                                instance_dict[m.instance.trim()] = 1;
                            }
                        }
                        return true;
                    }
                },
                inventory_usage_sensors: {
                    value: [], required: false, validate: function (inventories) {
                        if (!inventories || inventories.length === 0) { return true }
                        let instance_dict = {};
                        for (var i = 0; i < inventories.length; i++) {
                            var o = inventories[i];
                            console.log("inventory_usage_sensor " + JSON.stringify(o));
                            if (o.instance.trim() || o.capability_resources.trim() || o.measurement.trim() || o.replenishment.trim()) {
                                if (o.instance.trim()) {
                                    if (instance_dict.hasOwnProperty(o.instance.trim())) {
                                        console.log(i + "] Inventory Usage Sensor instance " + o.instance.trim() + " already used.");
                                        return false;
                                    }
                                } else {
                                    console.log(i + "] Inventory Usage Sensor instance not filled.");
                                    return false;
                                }
                                if (o.capability_resources.trim()) {
                                    try {
                                        JSON.parse(o.capability_resources);
                                    } catch (e) {
                                        console.log(i + "] Inventory Usage Sensor capability resources is not valid");
                                        return false;
                                    }
                                } else {
                                    return false;
                                }
                                if (o.measurement.trim()) {
                                    try {
                                        JSON.parse(o.measurement);
                                    } catch (e) {
                                        console.log(i + "] Inventory Usage Sensor measurement is not valid");
                                        return false;
                                    }
                                } else {
                                    console.log(i + "] Inventory Usage Sensor measurement not filled.");
                                    return false;
                                }
                                if (o.replenishment.trim()) {
                                    try {
                                        JSON.parse(o.replenishment);
                                    } catch (e) {
                                        console.log(i + "] Inventory Usage Sensor replenishment is not valid");
                                        return false;
                                    }
                                }
                                instance_dict[o.instance.trim()] = 1;
                            }
                        }
                        return true;
                    }
                },
                inventory_level_sensors: {
                    value: [], required: false, validate: function (inventories) {
                        if (!inventories || inventories.length === 0) { return true }
                        let instance_dict = {};
                        for (var i = 0; i < inventories.length; i++) {
                            var o = inventories[i];
                            console.log("inventory_level_sensors " + JSON.stringify(o));
                            if (o.instance.trim() || o.capability_resources.trim() || o.measurement.trim() || o.replenishment.trim()) {
                                if (o.instance.trim()) {
                                    if (instance_dict.hasOwnProperty(o.instance.trim())) {
                                        console.log(i + "] Inventory Level Sensor instance " + o.instance.trim() + " already used.");
                                        return false;
                                    }
                                } else {
                                    console.log(i + "] Inventory Level Sensor instance not filled.");
                                    return false;
                                }
                                if (o.capability_resources.trim()) {
                                    try {
                                        JSON.parse(o.capability_resources);
                                    } catch (e) {
                                        console.log(i + "] Inventory Level Sensor capability resources is not valid");
                                        return false;
                                    }
                                } else {
                                    return false;
                                }
                                if (o.measurement.trim()) {
                                    try {
                                        JSON.parse(o.measurement);
                                    } catch (e) {
                                        console.log(i + "] Inventory Level Sensor measurement is not valid");
                                        return false;
                                    }
                                } else {
                                    console.log(i + "] Inventory Level Sensor measurement not filled.");
                                    return false;
                                }
                                if (o.replenishment.trim()) {
                                    try {
                                        JSON.parse(o.replenishment);
                                    } catch (e) {
                                        console.log(i + "] Inventory Level Sensor replenishment is not valid");
                                        return false;
                                    }
                                }
                                instance_dict[o.instance.trim()] = 1;
                            }
                        }
                        return true;
                    }
                },
            },
            inputs: 1,
            outputs: 1,
            icon: "alexa-home.png",
            label: function () {
                return this.name || this._("alexa-device.name");
            },
            labelStyle: function () {
                return this.name ? "node_label_italic" : ""
            },
            paletteLabel: function () {
                return this._("alexa-device.name");
            },
            oneditprepare: function () {
                var protocols = this._("alexa-device.label.protocols");
                var authorization_types = this._("alexa-device.label.authorization_types");
                var video_codecs = this._("alexa-device.label.video_codecs");
                var audio_codecs = this._("alexa-device.label.audio_codecs");
                var resolutions = this._("alexa-device.label.resolutions");
                var RTSP = this._("alexa-device.label.RTSP");
                var HLS = this._("alexa-device.label.HLS");
                var BASIC = this._("alexa-device.label.BASIC");
                var DIGEST = this._("alexa-device.label.DIGEST");
                var NONE = this._("alexa-device.label.NONE");
                var H264 = this._("alexa-device.label.H264");
                var MPEG2 = this._("alexa-device.label.MPEG2");
                var MJPEG = this._("alexa-device.label.MJPEG");
                var JPG = this._("alexa-device.label.JPG");
                var G711 = this._("alexa-device.label.G711");
                var AAC = this._("alexa-device.label.AAC");
                var MAC_address_i18n = this._("alexa-device.placeholder.MAC_address");
                var instance_i18n = this._("alexa-device.placeholder.instance");
                var capability_resources_i18n = this._("alexa-device.placeholder.capability_resources");
                var semantics_i18n = this._("alexa-device.placeholder.semantics");
                var range_min_i18n = this._("alexa-device.placeholder.range_min");
                var range_max_i18n = this._("alexa-device.placeholder.range_max");
                var precision_i18n = this._("alexa-device.placeholder.precision");
                var presets_i18n = this._("alexa-device.placeholder.presets");
                var supported_modes_i18n = this._("alexa-device.placeholder.supported_modes");
                var ordered_i18n = this._("alexa-device.label.ordered");
                var replenishment_i18n = this._("alexa-device.placeholder.replenishment");
                var measurement_i18n = this._("alexa-device.placeholder.measurement");

                // Camera Stream Configurations
                $('#node-input-camera_stream_configuration-container').css('min-height', '150px').css('min-width', '450px').editableList({
                    addItem: function (container, i, opt) {
                        var camera_stream_configuration = opt;
                        if (!camera_stream_configuration.hasOwnProperty('p')) {
                            camera_stream_configuration = {
                                p: [],
                                t: [],
                                v: [],
                                a: [],
                                r: []
                            };
                        }
                        container.css({
                            overflow: 'hidden',
                            whiteSpace: 'nowrap'
                        });
                        let fragment = document.createDocumentFragment();
                        var row1 = $('<div/>', { style: "display:flex;" }).appendTo(fragment);
                        var row2 = $('<div/>', { style: "display:flex;margin-top:8px;" }).appendTo(fragment);
                        var row3 = $('<div/>', { style: "display:flex;margin-top:8px;" }).appendTo(fragment);
                        var row4 = $('<div/>', { style: "display:flex;margin-top:8px;" }).appendTo(fragment);
                        var row5 = $('<div/>', { style: "display:flex;margin-top:8px;" }).appendTo(fragment);

                        $('<div/>', { style: "display:inline-block;text-align:right; width:120px; padding-right:10px; box-sizing:border-box;" })
                            .text(protocols)
                            .appendTo(row1);

                        var row1_1 = $('<div/>', { style: "margin-right:3px;" }).appendTo(row1);
                        var row1_2 = $('<div/>', { style: "margin-right:3px;" }).appendTo(row1);

                        var rstpBtn = $('<input/>', { type: "checkbox", class: "node-input-camera_stream_configuration-p-RTSP" })
                            .appendTo(row1_1);
                        rstpBtn.toggleButton({
                            enabledLabel: RTSP,
                            disabledLabel: RTSP
                        })
                        rstpBtn.prop("checked", camera_stream_configuration.p.includes("RTSP")).trigger("change");

                        var hlsBtn = $('<input/>', { type: "checkbox", class: "node-input-camera_stream_configuration-p-HLS" })
                            .appendTo(row1_2);
                        hlsBtn.toggleButton({
                            enabledLabel: HLS,
                            disabledLabel: HLS
                        })
                        hlsBtn.prop("checked", camera_stream_configuration.p.includes("HLS")).trigger("change");

                        $('<div/>', { style: "display:inline-block;text-align:right; width:120px; padding-right:10px; box-sizing:border-box;margin-right:3px;" })
                            .text(authorization_types)
                            .appendTo(row2);

                        var row2_1 = $('<div/>', { style: "margin-right:3px;" }).appendTo(row2);
                        var row2_2 = $('<div/>', { style: "margin-right:3px;" }).appendTo(row2);
                        var row2_3 = $('<div/>', { style: "margin-right:3px;" }).appendTo(row2);

                        var basicBtn = $('<input/>', { type: "checkbox", class: "node-input-camera_stream_configuration-t-BASIC" })
                            .appendTo(row2_1);
                        basicBtn.toggleButton({
                            enabledLabel: BASIC,
                            disabledLabel: BASIC
                        })
                        basicBtn.prop("checked", camera_stream_configuration.t.includes("BASIC")).trigger("change");

                        var digestBtn = $('<input/>', { type: "checkbox", class: "node-input-camera_stream_configuration-t-DIGEST" })
                            .appendTo(row2_2);
                        digestBtn.toggleButton({
                            enabledLabel: DIGEST,
                            disabledLabel: DIGEST
                        })
                        digestBtn.prop("checked", camera_stream_configuration.t.includes("DIGEST")).trigger("change");

                        var noneBtn = $('<input/>', { type: "checkbox", class: "node-input-camera_stream_configuration-t-NONE" })
                            .appendTo(row2_3);
                        noneBtn.toggleButton({
                            enabledLabel: NONE,
                            disabledLabel: NONE
                        })
                        noneBtn.prop("checked", camera_stream_configuration.t.includes("NONE")).trigger("change");

                        $('<div/>', { style: "display:inline-block;text-align:right; width:120px; padding-right:10px; box-sizing:border-box;" })
                            .text(video_codecs)
                            .appendTo(row3);

                        var row3_1 = $('<div/>', { style: "margin-right:3px;" }).appendTo(row3);
                        var row3_2 = $('<div/>', { style: "margin-right:3px;" }).appendTo(row3);
                        var row3_3 = $('<div/>', { style: "margin-right:3px;" }).appendTo(row3);
                        var row3_4 = $('<div/>', { style: "margin-right:3px;" }).appendTo(row3);

                        var h264Btn = $('<input/>', { type: "checkbox", class: "node-input-camera_stream_configuration-v-H264" })
                            .appendTo(row3_1);
                        h264Btn.toggleButton({
                            enabledLabel: H264,
                            disabledLabel: H264
                        })
                        h264Btn.prop("checked", camera_stream_configuration.v.includes("H264")).trigger("change");

                        var mpeg2Btn = $('<input/>', { type: "checkbox", class: "node-input-camera_stream_configuration-v-MPEG2" })
                            .appendTo(row3_2);
                        mpeg2Btn.toggleButton({
                            enabledLabel: MPEG2,
                            disabledLabel: MPEG2
                        })
                        mpeg2Btn.prop("checked", camera_stream_configuration.v.includes("MPEG2")).trigger("change");

                        var mjpegBtn = $('<input/>', { type: "checkbox", class: "node-input-camera_stream_configuration-v-MJPEG" })
                            .appendTo(row3_3);
                        mjpegBtn.toggleButton({
                            enabledLabel: MJPEG,
                            disabledLabel: MJPEG
                        })
                        mjpegBtn.prop("checked", camera_stream_configuration.v.includes("MJPEG")).trigger("change");

                        var jpgBtn = $('<input/>', { type: "checkbox", class: "node-input-camera_stream_configuration-v-JPG" })
                            .appendTo(row3_4);
                        jpgBtn.toggleButton({
                            enabledLabel: JPG,
                            disabledLabel: JPG
                        })
                        jpgBtn.prop("checked", camera_stream_configuration.v.includes("JPG")).trigger("change");


                        $('<div/>', { style: "display:inline-block;text-align:right; width:120px; padding-right:10px; box-sizing:border-box;" })
                            .text(audio_codecs)
                            .appendTo(row4);

                        var row4_1 = $('<div/>', { style: "margin-right:3px;" }).appendTo(row4);
                        var row4_2 = $('<div/>', { style: "margin-right:3px;" }).appendTo(row4);
                        var row4_3 = $('<div/>', { style: "margin-right:3px;" }).appendTo(row4);

                        var g711Btn = $('<input/>', { type: "checkbox", class: "node-input-camera_stream_configuration-a-G711" })
                            .appendTo(row4_1);
                        g711Btn.toggleButton({
                            enabledLabel: G711,
                            disabledLabel: G711
                        })
                        g711Btn.prop("checked", camera_stream_configuration.a.includes("G711")).trigger("change");

                        var aacBtn = $('<input/>', { type: "checkbox", class: "node-input-camera_stream_configuration-a-AAC" })
                            .appendTo(row4_2);
                        aacBtn.toggleButton({
                            enabledLabel: AAC,
                            disabledLabel: AAC
                        })
                        aacBtn.prop("checked", camera_stream_configuration.a.includes("AAC")).trigger("change");

                        var none1Btn = $('<input/>', { type: "checkbox", class: "node-input-camera_stream_configuration-a-NONE" })
                            .appendTo(row4_3);
                        none1Btn.toggleButton({
                            enabledLabel: NONE,
                            disabledLabel: NONE
                        })
                        none1Btn.prop("checked", camera_stream_configuration.a.includes("NONE")).trigger("change");

                        $('<div/>', { style: "display:inline-block;text-align:right; width:120px; padding-right:10px; box-sizing:border-box;" })
                            .text(resolutions)
                            .appendTo(row5);

                        var propertyResolutions = $('<input/>', { class: "node-input-camera_stream_configuration-r", type: "text", style: "width:100%;" })
                            .appendTo(row5);

                        var r;
                        if (typeof camera_stream_configuration.r === 'object') {
                            r = "";
                            camera_stream_configuration.r.forEach(res => {
                                r += ";" + res[0] + "*" + res[1];
                            });
                            if (r.length > 0) {
                                r = r.substring(1);
                            }
                        } else {
                            r = camera_stream_configuration.r;
                        }
                        propertyResolutions.val(r);

                        container[0].appendChild(fragment);
                    },
                    removable: true,
                    sortable: true
                });
                for (var i = 0; i < this.camera_stream_configurations.length; i++) {
                    var c = this.camera_stream_configurations[i];
                    $("#node-input-camera_stream_configuration-container").editableList('addItem', c);
                }

                // MAC Address
                $('#node-input-mac_address-container').css('min-height', '150px').css('min-width', '450px').editableList({
                    addItem: function (container, i, opt) {
                        var mac_address = opt;
                        if (!mac_address.hasOwnProperty('name')) {
                            mac_address = { name: "" };
                        }
                        container.css({
                            overflow: 'hidden',
                            whiteSpace: 'nowrap'
                        });
                        let fragment = document.createDocumentFragment();
                        var row1 = $('<div/>', { style: "display:flex;" }).appendTo(fragment);
                        var propertyName = $('<input/>', { class: "node-input-mac_address-property-name", type: "text", style: "width:100%;" })
                            .attr("placeholder", MAC_address_i18n)
                            .appendTo(row1);
                        propertyName.val(mac_address.name);

                        container[0].appendChild(fragment);
                    },
                    removable: true,
                    sortable: true
                });
                if (!this.mac_addresses) {
                    this.mac_addresses = [];
                }
                for (var i = 0; i < this.mac_addresses.length; i++) {
                    var mac_address = this.mac_addresses[i];
                    $("#node-input-mac_address-container").editableList('addItem', { name: mac_address });
                }

                // Toggles
                $('#node-input-toggle-container').css('min-height', '150px').css('min-width', '450px').editableList({
                    addItem: function (container, i, opt) {
                        var toggle = opt;
                        if (!toggle.hasOwnProperty('instance')) {
                            toggle = { instance: "", capability_resources: "", semantics: "" };
                        }
                        container.css({
                            overflow: 'hidden',
                            whiteSpace: 'nowrap'
                        });
                        let fragment = document.createDocumentFragment();
                        var row1 = $('<div/>', { style: "display:flex; align-items: baseline" }).appendTo(fragment);
                        var row1_1 = $('<div/>', { style: "width:100%; margin-right:10px;" }).appendTo(row1);
                        var row1_2 = $('<div/>', { style: "width:100%; margin-right:10px;" }).appendTo(row1);
                        var row1_3 = $('<div/>', { style: "width:100%; margin-right:10px;" }).appendTo(row1);

                        var propertyInstance = $('<input/>', { class: "node-input-toggle-property-instance", type: "text", style: "width:100%;" })
                            .attr("placeholder", instance_i18n)
                            .appendTo(row1_1);
                        propertyInstance.val(toggle.instance);
                        var propertycapabilityResources = $('<input/>', { class: "node-input-toggle-property-capability_resources", type: "text", style: "width:100%;" })
                            .attr("placeholder", capability_resources_i18n)
                            .appendTo(row1_2)
                            .typedInput({ default: 'json', types: ['json'] });
                        propertycapabilityResources.typedInput('value', toggle.capability_resources);
                        var propertySemantics = $('<input/>', { class: "node-input-toggle-property-semantics", type: "text", style: "width:100%;" })
                            .attr("placeholder", semantics_i18n)
                            .appendTo(row1_3)
                            .typedInput({ default: toggle.semantics ? 'json' : 'str', types: ['str', 'json'] });
                        propertySemantics.typedInput('value', toggle.semantics);

                        container[0].appendChild(fragment);
                    },
                    removable: true,
                    sortable: true
                });
                if (!this.toggles) {
                    this.toggles = [];
                }
                for (var i = 0; i < this.toggles.length; i++) {
                    var toggle = this.toggles[i];
                    $("#node-input-toggle-container").editableList('addItem', { instance: toggle.instance, capability_resources: toggle.capability_resources, semantics: toggle.semantics });
                }

                // Ranges
                $('#node-input-range-container').css('min-height', '150px').css('min-width', '450px').editableList({
                    addItem: function (container, i, opt) {
                        var range = opt;
                        if (!range.hasOwnProperty('instance')) {
                            range = { instance: "", capability_resources: "", semantics: "", min: "", max: "", precision: "", presets: "" };
                        }
                        container.css({
                            overflow: 'hidden',
                            whiteSpace: 'nowrap'
                        });
                        let fragment = document.createDocumentFragment();
                        var row1 = $('<div/>', { style: "display:flex; align-items: baseline" }).appendTo(fragment);
                        var row2 = $('<div/>', { style: "display:flex; align-items: baseline; margin-top: 4px;" }).appendTo(fragment);

                        var row1_1 = $('<div/>', { style: "width:100%; margin-right:10px;" }).appendTo(row1); // Instance
                        var row1_2 = $('<div/>', { style: "width:10%; margin-right:10px;" }).appendTo(row1);  // Min
                        var row1_3 = $('<div/>', { style: "width:10%; margin-right:10px;" }).appendTo(row1);  // Max
                        var row1_4 = $('<div/>', { style: "width:10%;" }).appendTo(row1);  // Precision

                        var row2_1 = $('<div/>', { style: "width:100%; margin-right:10px;" }).appendTo(row2); // Capability Resources
                        var row2_2 = $('<div/>', { style: "width:100%; margin-right:10px;" }).appendTo(row2); // Semantics
                        var row2_3 = $('<div/>', { style: "width:100%;" }).appendTo(row2); // Presets

                        var propertyInstance = $('<input/>', { class: "node-input-range-property-instance", type: "text", style: "width:100%;" })
                            .attr("placeholder", instance_i18n)
                            .appendTo(row1_1);
                        propertyInstance.val(range.instance);

                        var propertyMin = $('<input/>', { class: "node-input-range-property-min", type: "text", style: "width:auto; margin-right:10px;" })
                            .attr("placeholder", range_min_i18n)
                            .appendTo(row1_2);
                        propertyMin.val(range.min);

                        var propertyMax = $('<input/>', { class: "node-input-range-property-max", type: "text", style: "width:auto; margin-right:10px;" })
                            .attr("placeholder", range_max_i18n)
                            .appendTo(row1_3);
                        propertyMax.val(range.max);

                        var propertyPrecision = $('<input/>', { class: "node-input-range-property-precision", type: "text", style: "width:auto;" })
                            .attr("placeholder", precision_i18n)
                            .appendTo(row1_4);
                        propertyPrecision.val(range.precision);


                        var propertycapabilityResources = $('<input/>', { class: "node-input-range-property-capability_resources", type: "text", style: "width:100%;" })
                            .attr("placeholder", capability_resources_i18n)
                            .appendTo(row2_1)
                            .typedInput({ default: 'json', types: ['json'] });
                        propertycapabilityResources.typedInput('value', range.capability_resources);

                        var propertySemantics = $('<input/>', { class: "node-input-range-property-semantics", type: "text", style: "width:100%;" })
                            .attr("placeholder", semantics_i18n)
                            .appendTo(row2_2)
                            .typedInput({ default: range.semantics ? 'json' : 'str', types: ['str', 'json'] });
                        propertySemantics.typedInput('value', range.semantics);

                        var propertyPresets = $('<input/>', { class: "node-input-range-property-presets", type: "text", style: "width:100%;" })
                            .attr("placeholder", presets_i18n)
                            .appendTo(row2_3)
                            .typedInput({ default: range.presets ? 'json' : 'str', types: ['str', 'json'] });
                        propertyPresets.typedInput('value', range.presets);


                        container[0].appendChild(fragment);
                    },
                    removable: true,
                    sortable: true
                });
                if (!this.ranges) {
                    this.ranges = [];
                }
                for (var i = 0; i < this.ranges.length; i++) {
                    var range = this.ranges[i];
                    $("#node-input-range-container").editableList('addItem', {
                        instance: range.instance,
                        capability_resources: range.capability_resources,
                        semantics: range.semantics,
                        presets: range.presets,
                        min: range.min,
                        max: range.max,
                        precision: range.precision
                    });
                }

                // Modes
                $('#node-input-mode-container').css('min-height', '150px').css('min-width', '450px').editableList({
                    addItem: function (container, i, opt) {
                        var mode = opt;
                        if (!mode.hasOwnProperty('instance')) {
                            mode = { instance: "", capability_resources: "", semantics: "", ordered: false, supported_modes: "" };
                        }
                        container.css({
                            overflow: 'hidden',
                            whiteSpace: 'nowrap'
                        });
                        let fragment = document.createDocumentFragment();
                        var row1 = $('<div/>', { style: "display:flex; align-items: baseline" }).appendTo(fragment);
                        var row2 = $('<div/>', { style: "display:flex; align-items: baseline; margin-top: 4px;" }).appendTo(fragment);

                        var row1_1 = $('<div/>', { style: "width:100%; margin-right:10px;" }).appendTo(row1); // Instance
                        var row1_2 = $('<div/>', { style: "width:100%; margin-right:10px;" }).appendTo(row1);  // SupportedModes
                        var row1_3 = $('<div/>', { style: "width:auto;" }).appendTo(row1);  // Ordered

                        var row2_1 = $('<div/>', { style: "width:100%; margin-right:10px;" }).appendTo(row2); // Capability Resources
                        var row2_2 = $('<div/>', { style: "width:100%;" }).appendTo(row2); // Semantics

                        var propertyInstance = $('<input/>', { class: "node-input-mode-property-instance", type: "text", style: "width:100%;" })
                            .attr("placeholder", instance_i18n)
                            .appendTo(row1_1);
                        propertyInstance.val(mode.instance);

                        var propertySupportedModes = $('<input/>', { class: "node-input-mode-property-supported_modes", type: "text", style: "width:100%;" })
                            .attr("placeholder", supported_modes_i18n)
                            .appendTo(row1_2)
                            .typedInput({ default: 'json', types: ['json'] });
                        propertySupportedModes.typedInput('value', mode.supported_modes);

                        var orderedBtn = $('<input/>', { type: "checkbox", class: "node-input-mode-property-ordered", style: "width:auto;" })
                            .appendTo(row1_3);
                        orderedBtn.toggleButton({
                            enabledLabel: ordered_i18n,
                            disabledLabel: ordered_i18n
                        })
                        orderedBtn.prop("checked", mode.ordered).trigger("change");


                        var propertycapabilityResources = $('<input/>', { class: "node-input-mode-property-capability_resources", type: "text", style: "width:100%;" })
                            .attr("placeholder", capability_resources_i18n)
                            .appendTo(row2_1)
                            .typedInput({ default: 'json', types: ['json'] });
                        propertycapabilityResources.typedInput('value', mode.capability_resources);

                        var propertySemantics = $('<input/>', { class: "node-input-mode-property-semantics", type: "text", style: "width:100%;" })
                            .attr("placeholder", semantics_i18n)
                            .appendTo(row2_2)
                            .typedInput({ default: mode.semantics ? 'json' : 'str', types: ['str', 'json'] });
                        propertySemantics.typedInput('value', mode.semantics);

                        container[0].appendChild(fragment);
                    },
                    removable: true,
                    sortable: true
                });
                if (!this.c_modes) {
                    this.c_modes = [];
                }
                for (var i = 0; i < this.c_modes.length; i++) {
                    var mode = this.c_modes[i];
                    $("#node-input-mode-container").editableList('addItem', {
                        instance: mode.instance,
                        capability_resources: mode.capability_resources,
                        semantics: mode.semantics,
                        ordered: mode.ordered,
                        supported_modes: mode.supported_modes
                    });
                }


                // InventoryUsageSensor
                $('#node-input-inventory_usage_sensor-container').css('min-height', '150px').css('min-width', '450px').editableList({
                    addItem: function (container, i, opt) {
                        var o = opt;
                        if (!o.hasOwnProperty('instance')) {
                            o = { instance: "", capability_resources: "", measurement: "", replenishment: "" };
                        }
                        container.css({
                            overflow: 'hidden',
                            whiteSpace: 'nowrap'
                        });
                        let fragment = document.createDocumentFragment();
                        var row1 = $('<div/>', { style: "display:flex; align-items: baseline" }).appendTo(fragment);
                        var row2 = $('<div/>', { style: "display:flex; align-items: baseline; margin-top: 4px;" }).appendTo(fragment);

                        var row1_1 = $('<div/>', { style: "width:100%; margin-right:10px;" }).appendTo(row1); // Instance
                        var row1_2 = $('<div/>', { style: "width:100%; margin-right:10px;" }).appendTo(row1); // measurement

                        var row2_1 = $('<div/>', { style: "width:100%; margin-right:10px;" }).appendTo(row2); // Capability Resources
                        var row2_2 = $('<div/>', { style: "width:100%;" }).appendTo(row2); // replenishment

                        var propertyInstance = $('<input/>', { class: "node-input-inventory_usage_sensor-property-instance", type: "text", style: "width:100%;" })
                            .attr("placeholder", instance_i18n)
                            .appendTo(row1_1);
                        propertyInstance.val(o.instance);

                        var propertyMeasurement = $('<input/>', { class: "node-input-inventory_usage_sensor-property-measurement", type: "text", style: "width:100%;" })
                            .attr("placeholder", measurement_i18n)
                            .appendTo(row1_2)
                            .typedInput({ default: 'json', types: ['json'] });
                            propertyMeasurement.typedInput('value', o.measurement);

                        var propertycapabilityResources = $('<input/>', { class: "node-input-inventory_usage_sensor-property-capability_resources", type: "text", style: "width:100%;" })
                            .attr("placeholder", capability_resources_i18n)
                            .appendTo(row2_1)
                            .typedInput({ default: 'json', types: ['json'] });
                        propertycapabilityResources.typedInput('value', o.capability_resources);

                        var propertyReplenishment = $('<input/>', { class: "node-input-inventory_usage_sensor-property-replenishment", type: "text", style: "width:100%;" })
                            .attr("placeholder", replenishment_i18n)
                            .appendTo(row2_2)
                            .typedInput({ default: o.replenishment ? 'json' : 'str', types: ['str', 'json'] });
                        propertyReplenishment.typedInput('value', o.replenishment);

                        container[0].appendChild(fragment);
                    },
                    removable: true,
                    sortable: true
                });
                if (!this.inventory_usage_sensors) {
                    this.inventory_usage_sensors = [];
                }
                for (var i = 0; i < this.inventory_usage_sensors.length; i++) {
                    var o = this.inventory_usage_sensors[i];
                    $("#node-input-inventory_usage_sensor-container").editableList('addItem', {
                        instance: o.instance,
                        capability_resources: o.capability_resources,
                        measurement: o.measurement,
                        replenishment: o.replenishment
                    });
                }

                // InventoryLevelSensor
                $('#node-input-inventory_level_sensor-container').css('min-height', '150px').css('min-width', '450px').editableList({
                    addItem: function (container, i, opt) {
                        var o = opt;
                        if (!o.hasOwnProperty('instance')) {
                            o = { instance: "", capability_resources: "", measurement: "", replenishment: "" };
                        }
                        container.css({
                            overflow: 'hidden',
                            whiteSpace: 'nowrap'
                        });
                        let fragment = document.createDocumentFragment();
                        var row1 = $('<div/>', { style: "display:flex; align-items: baseline" }).appendTo(fragment);
                        var row2 = $('<div/>', { style: "display:flex; align-items: baseline; margin-top: 4px;" }).appendTo(fragment);

                        var row1_1 = $('<div/>', { style: "width:100%; margin-right:10px;" }).appendTo(row1); // Instance
                        var row1_2 = $('<div/>', { style: "width:100%; margin-right:10px;" }).appendTo(row1); // measurement

                        var row2_1 = $('<div/>', { style: "width:100%; margin-right:10px;" }).appendTo(row2); // Capability Resources
                        var row2_2 = $('<div/>', { style: "width:100%;" }).appendTo(row2); // replenishment

                        var propertyInstance = $('<input/>', { class: "node-input-inventory_level_sensor-property-instance", type: "text", style: "width:100%;" })
                            .attr("placeholder", instance_i18n)
                            .appendTo(row1_1);
                        propertyInstance.val(o.instance);

                        var propertyMeasurement = $('<input/>', { class: "node-input-inventory_level_sensor-property-measurement", type: "text", style: "width:100%;" })
                            .attr("placeholder", measurement_i18n)
                            .appendTo(row1_2)
                            .typedInput({ default: 'json', types: ['json'] });
                            propertyMeasurement.typedInput('value', o.measurement);

                        var propertycapabilityResources = $('<input/>', { class: "node-input-inventory_level_sensor-property-capability_resources", type: "text", style: "width:100%;" })
                            .attr("placeholder", capability_resources_i18n)
                            .appendTo(row2_1)
                            .typedInput({ default: 'json', types: ['json'] });
                        propertycapabilityResources.typedInput('value', o.capability_resources);

                        var propertyReplenishment = $('<input/>', { class: "node-input-inventory_level_sensor-property-replenishment", type: "text", style: "width:100%;" })
                            .attr("placeholder", replenishment_i18n)
                            .appendTo(row2_2)
                            .typedInput({ default: o.replenishment ? 'json' : 'str', types: ['str', 'json'] });
                        propertyReplenishment.typedInput('value', o.replenishment);

                        container[0].appendChild(fragment);
                    },
                    removable: true,
                    sortable: true
                });
                if (!this.inventory_level_sensors) {
                    this.inventory_level_sensors = [];
                }
                for (var i = 0; i < this.inventory_level_sensors.length; i++) {
                    var o = this.inventory_level_sensors[i];
                    $("#node-input-inventory_level_sensor-container").editableList('addItem', {
                        instance: o.instance,
                        capability_resources: o.capability_resources,
                        measurement: o.measurement,
                        replenishment: o.replenishment
                    });
                }
            },
            oneditsave: function () {
                // Camera Stream
                var camera_stream_configurations = $("#node-input-camera_stream_configuration-container").editableList('items');
                var node = this;
                node.camera_stream_configurations = [];
                camera_stream_configurations.each(function (i) {
                    var camera_stream_configuration = $(this);
                    var vRTSP = camera_stream_configuration.find(".node-input-camera_stream_configuration-p-RTSP").prop('checked');
                    var vHLS = camera_stream_configuration.find(".node-input-camera_stream_configuration-p-HLS").prop('checked');
                    var vBASIC = camera_stream_configuration.find(".node-input-camera_stream_configuration-t-BASIC").prop('checked');
                    var vDIGEST = camera_stream_configuration.find(".node-input-camera_stream_configuration-t-DIGEST").prop('checked');
                    var vNONE = camera_stream_configuration.find(".node-input-camera_stream_configuration-t-NONE").prop('checked');
                    var vH264 = camera_stream_configuration.find(".node-input-camera_stream_configuration-v-H264").prop('checked');
                    var vMPEG2 = camera_stream_configuration.find(".node-input-camera_stream_configuration-v-MPEG2").prop('checked');
                    var vMJPEG = camera_stream_configuration.find(".node-input-camera_stream_configuration-v-MJPEG").prop('checked');
                    var vJPG = camera_stream_configuration.find(".node-input-camera_stream_configuration-v-JPG").prop('checked');
                    var vG711 = camera_stream_configuration.find(".node-input-camera_stream_configuration-a-G711").prop('checked');
                    var vAAC = camera_stream_configuration.find(".node-input-camera_stream_configuration-a-AAC").prop('checked');
                    var vNONE1 = camera_stream_configuration.find(".node-input-camera_stream_configuration-a-NONE").prop('checked');
                    var vr = camera_stream_configuration.find(".node-input-camera_stream_configuration-r").val();
                    var c = {
                        p: [],
                        t: [],
                        v: [],
                        a: [],
                        r: []
                    };
                    if (vRTSP) c.p.push("RTSP");
                    if (vHLS) c.p.push("HLS");
                    if (vBASIC) c.t.push("BASIC");
                    if (vDIGEST) c.t.push("DIGEST");
                    if (vNONE) c.t.push("NONE");
                    if (vH264) c.v.push("H264");
                    if (vMPEG2) c.v.push("MPEG2");
                    if (vMJPEG) c.v.push("MJPEG");
                    if (vJPG) c.v.push("JPG");
                    if (vG711) c.a.push("G711");
                    if (vAAC) c.a.push("AAC");
                    if (vNONE1) c.a.push("NONE");
                    vr.split(";").forEach(function (res) {
                        var wh = res.split("*");
                        if (wh.length === 2 && wh[0].trim() && wh[1].trim()) {
                            c.r.push([wh[0].trim(), wh[1].trim()])
                        }
                    });
                    if (!(c.p.length === 0 && c.t.length === 0 && c.v.length === 0 && c.a.length === 0 && c.r.trim().length === 0)) {
                        node.camera_stream_configurations.push(c);
                    }
                });

                // mac_addresses
                var mac_addresses = $("#node-input-mac_address-container").editableList('items');
                node.mac_addresses = [];
                mac_addresses.each(function (i) {
                    var mac_address = $(this);
                    var name = mac_address.find(".node-input-mac_address-property-name").val();
                    node.mac_addresses.push(name);
                });

                // toggles
                var toggles = $("#node-input-toggle-container").editableList('items');
                node.toggles = [];
                toggles.each(function (i) {
                    var toggle = $(this);
                    var instance = toggle.find(".node-input-toggle-property-instance").val();
                    var capability_resources = toggle.find(".node-input-toggle-property-capability_resources").val();
                    var semantics = toggle.find(".node-input-toggle-property-semantics").val();
                    if (instance.trim() || capability_resources.trim()) {
                        node.toggles.push({ instance: instance.trim(), capability_resources: capability_resources.trim(), semantics: semantics.trim() });
                    }
                });

                // ranges
                var ranges = $("#node-input-range-container").editableList('items');
                node.ranges = [];
                ranges.each(function (i) {
                    var range = $(this);
                    var instance = range.find(".node-input-range-property-instance").val();
                    var capability_resources = range.find(".node-input-range-property-capability_resources").val();
                    var semantics = range.find(".node-input-range-property-semantics").val();
                    var presets = range.find(".node-input-range-property-presets").val();
                    var range_min = range.find(".node-input-range-property-min").val();
                    var range_max = range.find(".node-input-range-property-max").val();
                    var precision = range.find(".node-input-range-property-precision").val();
                    if (instance.trim() || capability_resources.trim()) {
                        node.ranges.push({
                            instance: instance.trim(),
                            capability_resources: capability_resources.trim(),
                            semantics: semantics.trim(),
                            presets: presets,
                            min: range_min,
                            max: range_max,
                            precision: precision.trim()
                        });
                    }
                });

                // InventoryLevelSensor
                var inventory_level_sensors = $("#node-input-inventory_level_sensor-container").editableList('items');
                node.inventory_level_sensors = [];
                inventory_level_sensors.each(function (i) {
                    var sensor = $(this);
                    var instance = sensor.find(".node-input-inventory_level_sensor-property-instance").val();
                    var capability_resources = sensor.find(".node-input-inventory_level_sensor-property-capability_resources").val();
                    var measurement = sensor.find(".node-input-inventory_level_sensor-property-measurement").val();
                    var replenishment = sensor.find(".node-input-inventory_level_sensor-property-replenishment").val();
                    if (instance.trim() || capability_resources.trim() || replenishment.trim() || measurement.trim()) {
                        node.inventory_level_sensors.push({
                            instance: instance.trim(),
                            capability_resources: capability_resources.trim(),
                            measurement: measurement.trim(),
                            replenishment: replenishment.trim()
                        });
                    }
                });

                // InventoryUsageSensor
                var inventory_usage_sensors = $("#node-input-inventory_usage_sensor-container").editableList('items');
                node.inventory_usage_sensors = [];
                inventory_usage_sensors.each(function (i) {
                    var sensor = $(this);
                    var instance = sensor.find(".node-input-inventory_usage_sensor-property-instance").val();
                    var capability_resources = sensor.find(".node-input-inventory_usage_sensor-property-capability_resources").val();
                    var measurement = sensor.find(".node-input-inventory_usage_sensor-property-measurement").val();
                    var replenishment = sensor.find(".node-input-inventory_usage_sensor-property-replenishment").val();
                    if (instance.trim() || capability_resources.trim() || replenishment.trim() || measurement.trim()) {
                        node.inventory_usage_sensors.push({
                            instance: instance.trim(),
                            capability_resources: capability_resources.trim(),
                            measurement: measurement.trim(),
                            replenishment: replenishment.trim()
                        });
                    }
                });

                // modes
                var modes = $("#node-input-mode-container").editableList('items');
                node.c_modes = [];
                modes.each(function (i) {
                    var mode = $(this);
                    var instance = mode.find(".node-input-mode-property-instance").val();
                    var capability_resources = mode.find(".node-input-mode-property-capability_resources").val();
                    var semantics = mode.find(".node-input-mode-property-semantics").val();
                    var ordered = mode.find(".node-input-mode-property-ordered").prop('checked');
                    var supported_modes = mode.find(".node-input-mode-property-supported_modes").val();
                    if (instance.trim() || capability_resources.trim()) {
                        node.c_modes.push({
                            instance: instance.trim(),
                            capability_resources: capability_resources.trim(),
                            semantics: semantics.trim(),
                            ordered: ordered,
                            supported_modes: supported_modes.trim()
                        });
                    }
                });
            }
        });
    })();
</script>

<script type="text/html" data-template-name="alexa-device">
    <style>
        ol#node-input-camera_stream_configuration-container .red-ui-typedInput-container {
            flex:1;
        }
        ol#node-input-mac_address-container .red-ui-typedInput-container {
            flex:1;
        }
        ol#node-input-toggle-container .red-ui-typedInput-container {
            flex:1;
        }
        ol#node-input-range-container .red-ui-typedInput-container {
            flex:1;
        }
        ol#node-input-mode-container .red-ui-typedInput-container {
            flex:1;
        }
        ol#node-input-inventory_usage_sensor-container .red-ui-typedInput-container {
            flex:1;
        }
        ol#node-input-inventory_level_sensor-container .red-ui-typedInput-container {
            flex:1;
        }
    </style>

    <div class="form-row">
        <label for="node-input-alexa"><i class="fa fa-globe"></i> <span data-i18n="alexa-device.label.alexa"></span></label>
        <input type="text" id="node-input-alexa" data-i18n="[placeholder]alexa-device.placeholder.alexa">
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.name"></span></label>
        <input type="text" id="node-input-name" data-i18n="[placeholder]alexa-device.placeholder.name">
    </div>

    <div class="form-row">
        <label for="node-input-topic"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.topic"></span></label>
        <input type="text" id="node-input-topic" data-i18n="[placeholder]alexa-device.placeholder.topic">
    </div>

    <div class="form-row" id="display_categories">
        <label for="node-input-display_categories"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.display_categories"></span></label>
        <select multiple id="node-input-display_categories" >
            <option value='ACTIVITY_TRIGGER' data-i18n='alexa-device.display_category.ACTIVITY_TRIGGER'></option>
            <option value='AIR_FRESHENER' data-i18n='alexa-device.display_category.AIR_FRESHENER'></option>
            <option value='AIR_PURIFIER' data-i18n='alexa-device.display_category.AIR_PURIFIER'></option>
            <option value='AUTO_ACCESSORY' data-i18n='alexa-device.display_category.AUTO_ACCESSORY'></option>
            <option value='CAMERA' data-i18n='alexa-device.display_category.CAMERA'></option>
            <option value='CHRISTMAS_TREE' data-i18n='alexa-device.display_category.CHRISTMAS_TREE'></option>
            <option value='COFFEE_MAKER' data-i18n='alexa-device.display_category.COFFEE_MAKER'></option>
            <option value='COMPUTER' data-i18n='alexa-device.display_category.COMPUTER'></option>
            <option value='CONTACT_SENSOR' data-i18n='alexa-device.display_category.CONTACT_SENSOR'></option>
            <option value='DOOR' data-i18n='alexa-device.display_category.DOOR'></option>
            <option value='DOORBELL' data-i18n='alexa-device.display_category.DOORBELL'></option>
            <option value='EXTERIOR_BLIND' data-i18n='alexa-device.display_category.EXTERIOR_BLIND'></option>
            <option value='FAN' data-i18n='alexa-device.display_category.FAN'></option>
            <option value='GAME_CONSOLE' data-i18n='alexa-device.display_category.GAME_CONSOLE'></option>
            <option value='GARAGE_DOOR' data-i18n='alexa-device.display_category.GARAGE_DOOR'></option>
            <option value='HEADPHONES' data-i18n='alexa-device.display_category.HEADPHONES'></option>
            <option value='HUB' data-i18n='alexa-device.display_category.HUB'></option>
            <option value='INTERIOR_BLIND' data-i18n='alexa-device.display_category.INTERIOR_BLIND'></option>
            <option value='LAPTOP' data-i18n='alexa-device.display_category.LAPTOP'></option>
            <option value='LIGHT' data-i18n='alexa-device.display_category.LIGHT'></option>
            <option value='MICROWAVE' data-i18n='alexa-device.display_category.MICROWAVE'></option>
            <option value='MOBILE_PHONE' data-i18n='alexa-device.display_category.MOBILE_PHONE'></option>
            <option value='MOTION_SENSOR' data-i18n='alexa-device.display_category.MOTION_SENSOR'></option>
            <option value='MUSIC_SYSTEM' data-i18n='alexa-device.display_category.MUSIC_SYSTEM'></option>
            <option value='NETWORK_HARDWARE' data-i18n='alexa-device.display_category.NETWORK_HARDWARE'></option>
            <option value='OTHER' data-i18n='alexa-device.display_category.OTHER'></option>
            <option value='OVEN' data-i18n='alexa-device.display_category.OVEN'></option>
            <option value='PHONE' data-i18n='alexa-device.display_category.PHONE'></option>
            <option value='PRINTER' data-i18n='alexa-device.display_category.PRINTER'></option>
            <option value='ROUTER' data-i18n='alexa-device.display_category.ROUTER'></option>
            <option value='SCENE_TRIGGER' data-i18n='alexa-device.display_category.SCENE_TRIGGER'></option>
            <option value='SCREEN' data-i18n='alexa-device.display_category.SCREEN'></option>
            <option value='SECURITY_PANEL' data-i18n='alexa-device.display_category.SECURITY_PANEL'></option>
            <option value='SECURITY_SYSTEM' data-i18n='alexa-device.display_category.SECURITY_SYSTEM'></option>
            <option value='SLOW_COOKER' data-i18n='alexa-device.display_category.SLOW_COOKER'></option>
            <option value='SMARTLOCK' data-i18n='alexa-device.display_category.SMARTLOCK'></option>
            <option value='SMARTPLUG' data-i18n='alexa-device.display_category.SMARTPLUG'></option>
            <option value='SPEAKER' data-i18n='alexa-device.display_category.SPEAKER'></option>
            <option value='STREAMING_DEVICE' data-i18n='alexa-device.display_category.STREAMING_DEVICE'></option>
            <option value='SWITCH' data-i18n='alexa-device.display_category.SWITCH'></option>
            <option value='TABLET' data-i18n='alexa-device.display_category.TABLET'></option>
            <option value='TEMPERATURE_SENSOR' data-i18n='alexa-device.display_category.TEMPERATURE_SENSOR'></option>
            <option value='THERMOSTAT' data-i18n='alexa-device.display_category.THERMOSTAT'></option>
            <option value='TV' data-i18n='alexa-device.display_category.TV'></option>
            <option value='VACUUM_CLEANER' data-i18n='alexa-device.display_category.VACUUM_CLEANER'></option>
            <option value='VEHICLE' data-i18n='alexa-device.display_category.VEHICLE'></option>
            <option value='WATER_HEATER' data-i18n='alexa-device.display_category.WATER_HEATER'></option>
            <option value='WEARABLE' data-i18n='alexa-device.display_category.WEARABLE'></option>
        </select>
    </div>

    <div class="form-row red-ui-editableList-border div_trait" hidden id="i_automation_management" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_automation_management" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.automation_management"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-automationmanagement.html"><i class="fa fa-external-link"></i></a>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_brightness_controller" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_brightness_controller" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.brightness_controller"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-brightnesscontroller.html"><i class="fa fa-external-link"></i></a>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_camera_stream_controller" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_camera_stream_controller" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.camera_stream_controller"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-camerastreamcontroller.html"><i class="fa fa-external-link"></i></a>
        </div>

        <div class="form-row node-input-camera_stream_configuration-container-row">
            <ol id="node-input-camera_stream_configuration-container"></ol>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_channel_controller" style="background: #fbfbfb; padding: 5px;">    
        <div class="form-row">
            <input type="checkbox" id="node-input-i_channel_controller" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.channel_controller"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-channelcontroller.html"><i class="fa fa-external-link"></i></a>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_color_controller" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_color_controller" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.color_controller"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-colorcontroller.html"><i class="fa fa-external-link"></i></a>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_color_temperature_controller" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_color_temperature_controller" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.color_temperature_controller"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-colortemperaturecontroller.html"><i class="fa fa-external-link"></i></a>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_contact_sensor" style="background: #fbfbfb; padding: 5px;">    
        <div class="form-row">
            <input type="checkbox" id="node-input-i_contact_sensor" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.contact_sensor"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-contactsensor.html"><i class="fa fa-external-link"></i></a>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_device_usage_meter" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_device_usage_meter" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.deviceusage_meter"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-deviceusage-meter.html"><i class="fa fa-external-link"></i></a>
        </div>

        <div class="form-row red-ui-editableList-border">
            <div class="form-row"><span data-i18n="alexa-device.label.electricity"></span></div>
            <div class="form-row">
                <label for="node-input-electricity_measuring_method"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.measuring_method"></span></label>
                <select id="node-input-electricity_measuring_method" >
                    <option value='' data-i18n='alexa-device.label.NONE'></option>
                    <option value='ESTIMATED' data-i18n='alexa-device.label.ESTIMATED'></option>
                    <option value='MEASURED' data-i18n='alexa-device.label.MEASURED'></option>
                </select>
            </div>

            <div class="form-row">
                <label for="node-input-electricity_unit"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.unit"></span></label>
                <select id="node-input-electricity_unit" >
                    <option value='MILLIWATT_HOUR' data-i18n='alexa-device.label.MILLIWATT_HOUR'></option>
                    <option value='BTU' data-i18n='alexa-device.label.BTU'></option>
                    <option value='CUBIC_FOOT' data-i18n='alexa-device.label.CUBIC_FOOT'></option>
                </select>
            </div>

            <div class="form-row">
                <label for="node-input-electricity_default_resolution"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.default_resolution"></span></label>
                <input type="text" id="node-input-electricity_default_resolution" data-i18n="[placeholder]alexa-device.placeholder.default_resolution">
            </div>
        </div>

        <div class="form-row red-ui-editableList-border">
            <div class="form-row"><span data-i18n="alexa-device.label.natural_gas"></span></div>
            <div class="form-row">
                <label for="node-input-natural_gas_measuring_method"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.measuring_method"></span></label>
                <select id="node-input-natural_gas_measuring_method" >
                    <option value='' data-i18n='alexa-device.label.NONE'></option>
                    <option value='ESTIMATED' data-i18n='alexa-device.label.ESTIMATED'></option>
                    <option value='MEASURED' data-i18n='alexa-device.label.MEASURED'></option>
                </select>
            </div>

            <div class="form-row">
                <label for="node-input-natural_gas_unit"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.unit"></span></label>
                <select id="node-input-natural_gas_unit" >
                    <option value='MILLIWATT_HOUR' data-i18n='alexa-device.label.MILLIWATT_HOUR'></option>
                    <option value='BTU' data-i18n='alexa-device.label.BTU'></option>
                    <option value='CUBIC_FOOT' data-i18n='alexa-device.label.CUBIC_FOOT'></option>
                </select>
            </div>

            <div class="form-row">
                <label for="node-input-natural_gas_default_resolution"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.default_resolution"></span></label>
                <input type="text" id="node-input-natural_gas_default_resolution" data-i18n="[placeholder]alexa-device.placeholder.default_resolution">
            </div>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_doorbell_event_source" style="background: #fbfbfb; padding: 5px;">    
        <div class="form-row">
            <input type="checkbox" id="node-input-i_doorbell_event_source" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.doorbell_event_source"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-doorbelleventsource.html"><i class="fa fa-external-link"></i></a>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_endpoint_health" style="background: #fbfbfb; padding: 5px;">    
        <div class="form-row">
            <input type="checkbox" id="node-input-i_endpoint_health" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.endpoint_health"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-endpointhealth.html"><i class="fa fa-external-link"></i></a>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_equalizer_controller" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_equalizer_controller" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.equalizer_controller"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-equalizercontroller.html"><i class="fa fa-external-link"></i></a>
        </div>

        <div class="form-row">
            <label for="node-input-bands"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.bands"></span></label>
            <select multiple id="node-input-bands" >
                <option value='BASS' data-i18n='alexa-device.label.BASS'></option>
                <option value='MIDRANGE' data-i18n='alexa-device.label.MIDRANGE'></option>
                <option value='TREBLE' data-i18n='alexa-device.label.TREBLE'></option>
            </select>
        </div>

        <div class="form-row">
            <label for="node-input-band_range_min"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.band_min"></span></label>
            <input type="text" id="node-input-band_range_min" data-i18n="[placeholder]alexa-device.placeholder.band_range_min">
        </div>

        <div class="form-row">
            <label for="node-input-band_range_max"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.band_max"></span></label>
            <input type="text" id="node-input-band_range_max" data-i18n="[placeholder]alexa-device.placeholder.band_range_max">
        </div>

        <div class="form-row">
            <label for="node-input-modes"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.modes"></span></label>
            <select multiple id="node-input-modes" >
                <option value='MOVIE' data-i18n='alexa-device.label.MOVIE'></option>
                <option value='MUSIC' data-i18n='alexa-device.label.MUSIC'></option>
                <option value='NIGHT' data-i18n='alexa-device.label.NIGHT'></option>
                <option value='SPORT' data-i18n='alexa-device.label.SPORT'></option>
                <option value='TV' data-i18n='alexa-device.label.TV'></option>
            </select>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_device_usage_estimation" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_device_usage_estimation" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.estimation"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-deviceusage-estimation.html"><i class="fa fa-external-link"></i></a>
        </div>

        <div class="form-row">
            <label for="node-input-standby_wattage"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.standby_wattage"></span></label>
            <input type="text" id="node-input-standby_wattage" data-i18n="[placeholder]alexa-device.placeholder.standby_wattage">
        </div>

        <div class="form-row">
            <label for="node-input-maximum_wattage"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.maximum_wattage"></span></label>
            <input type="text" id="node-input-maximum_wattage" data-i18n="[placeholder]alexa-device.placeholder.maximum_wattage">
        </div>

        <!--div class="form-row">
            <label for="node-input-on_wattage"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.on_wattage"></span></label>
            <input type="text" id="node-input-on_wattage" data-i18n="[placeholder]alexa-device.placeholder.on_wattage">
        </div-->
        
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_event_detection_sensor" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_event_detection_sensor" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.event_detection_sensor"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-eventdetectionsensor.html"><i class="fa fa-external-link"></i></a>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_input_controller" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_input_controller" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.input_controller"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-inputcontroller.html"><i class="fa fa-external-link"></i></a>
        </div>

        <div class="form-row">
            <label for="node-input-a_inputs"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.inputs"></span></label>
            <select multiple id="node-input-a_inputs" >
                <option value='AUX 1' data-i18n='alexa-device.label.AUX_1'></option>
                <option value='AUX 2' data-i18n='alexa-device.label.AUX_2'></option>
                <option value='AUX 3' data-i18n='alexa-device.label.AUX_3'></option>
                <option value='AUX 4' data-i18n='alexa-device.label.AUX_4'></option>
                <option value='AUX 5' data-i18n='alexa-device.label.AUX_5'></option>
                <option value='AUX 6' data-i18n='alexa-device.label.AUX_6'></option>
                <option value='AUX 7' data-i18n='alexa-device.label.AUX_7'></option>
                <option value='BLURAY' data-i18n='alexa-device.label.BLURAY'></option>
                <option value='CABLE' data-i18n='alexa-device.label.CABLE'></option>
                <option value='CD' data-i18n='alexa-device.label.CD'></option>
                <option value='COAX 1' data-i18n='alexa-device.label.COAX_1'></option>
                <option value='COAX 2' data-i18n='alexa-device.label.COAX_2'></option>
                <option value='COMPOSITE 1' data-i18n='alexa-device.label.COMPOSITE_1'></option>
                <option value='DVD' data-i18n='alexa-device.label.DVD'></option>
                <option value='GAME' data-i18n='alexa-device.label.GAME'></option>
                <option value='HD RADIO' data-i18n='alexa-device.label.HD_RADIO'></option>
                <option value='HDMI 1' data-i18n='alexa-device.label.HDMI_1'></option>
                <option value='HDMI 2' data-i18n='alexa-device.label.HDMI_2'></option>
                <option value='HDMI 3' data-i18n='alexa-device.label.HDMI_3'></option>
                <option value='HDMI 4' data-i18n='alexa-device.label.HDMI_4'></option>
                <option value='HDMI 5' data-i18n='alexa-device.label.HDMI_5'></option>
                <option value='HDMI 6' data-i18n='alexa-device.label.HDMI_6'></option>
                <option value='HDMI 7' data-i18n='alexa-device.label.HDMI_7'></option>
                <option value='HDMI 8' data-i18n='alexa-device.label.HDMI_8'></option>
                <option value='HDMI 9' data-i18n='alexa-device.label.HDMI_9'></option>
                <option value='HDMI 10' data-i18n='alexa-device.label.HDMI_10'></option>
                <option value='HDMI ARC' data-i18n='alexa-device.label.HDMI_ARC'></option>
                <option value='INPUT 1' data-i18n='alexa-device.label.INPUT_1'></option>
                <option value='INPUT 2' data-i18n='alexa-device.label.INPUT_2'></option>
                <option value='INPUT 3' data-i18n='alexa-device.label.INPUT_3'></option>
                <option value='INPUT 4' data-i18n='alexa-device.label.INPUT_4'></option>
                <option value='INPUT 5' data-i18n='alexa-device.label.INPUT_5'></option>
                <option value='INPUT 6' data-i18n='alexa-device.label.INPUT_6'></option>
                <option value='INPUT 7' data-i18n='alexa-device.label.INPUT_7'></option>
                <option value='INPUT 8' data-i18n='alexa-device.label.INPUT_8'></option>
                <option value='INPUT 9' data-i18n='alexa-device.label.INPUT_9'></option>
                <option value='INPUT 10' data-i18n='alexa-device.label.INPUT_10'></option>
                <option value='IPOD' data-i18n='alexa-device.label.IPOD'></option>
                <option value='LINE 1' data-i18n='alexa-device.label.LINE_1'></option>
                <option value='LINE 2' data-i18n='alexa-device.label.LINE_2'></option>
                <option value='LINE 3' data-i18n='alexa-device.label.LINE_3'></option>
                <option value='LINE 4' data-i18n='alexa-device.label.LINE_4'></option>
                <option value='LINE 5' data-i18n='alexa-device.label.LINE_5'></option>
                <option value='LINE 6' data-i18n='alexa-device.label.LINE_6'></option>
                <option value='LINE 7' data-i18n='alexa-device.label.LINE_7'></option>
                <option value='MEDIA PLAYER' data-i18n='alexa-device.label.MEDIA_PLAYER'></option>
                <option value='OPTICAL 1' data-i18n='alexa-device.label.OPTICAL_1'></option>
                <option value='OPTICAL 2' data-i18n='alexa-device.label.OPTICAL_2'></option>
                <option value='PHONO' data-i18n='alexa-device.label.PHONO'></option>
                <option value='PLAYSTATION' data-i18n='alexa-device.label.PLAYSTATION'></option>
                <option value='PLAYSTATION 3' data-i18n='alexa-device.label.PLAYSTATION_3'></option>
                <option value='PLAYSTATION 4' data-i18n='alexa-device.label.PLAYSTATION_4'></option>
                <option value='SATELLITE' data-i18n='alexa-device.label.SATELLITE'></option>
                <option value='SMARTCAST' data-i18n='alexa-device.label.SMARTCAST'></option>
                <option value='TUNER' data-i18n='alexa-device.label.TUNER'></option>
                <option value='TV' data-i18n='alexa-device.label.TV'></option>
                <option value='USB DAC' data-i18n='alexa-device.label.USB_DAC'></option>
                <option value='VIDEO 1' data-i18n='alexa-device.label.VIDEO_1'></option>
                <option value='VIDEO 2' data-i18n='alexa-device.label.VIDEO_2'></option>
                <option value='VIDEO 3' data-i18n='alexa-device.label.VIDEO_3'></option>
                <option value='XBOX' data-i18n='alexa-device.label.XBOX'></option>
            </select>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_inventory_level_sensor" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_inventory_level_sensor" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.inventory_level_sensor"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-inventorylevelsensor.html"><i class="fa fa-external-link"></i></a>
        </div>

        <div class="form-row" style="margin-bottom:0;">
            <i class="fa fa-list"></i> <span data-i18n="alexa-device.label.inventory_level_sensor"></span>
        </div>
        <div class="form-row node-input-inventory_level_sensor-container-row">
            <ol id="node-input-inventory_level_sensor-container"></ol>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_inventory_usage_sensor" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_inventory_usage_sensor" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.inventory_usage_sensor"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-inventoryusagesensor.html"><i class="fa fa-external-link"></i></a>
        </div>

        <div class="form-row" style="margin-bottom:0;">
            <i class="fa fa-list"></i> <span data-i18n="alexa-device.label.inventory_usage_sensor"></span>
        </div>
        <div class="form-row node-input-inventory_usage_sensor-container-row">
            <ol id="node-input-inventory_usage_sensor-container"></ol>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_keypad_controller" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_keypad_controller" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.keypad_controller"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-keypadcontroller.html"><i class="fa fa-external-link"></i></a>
        </div>

        <div class="form-row">
            <label for="node-input-a_kc_keys"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.keys"></span></label>
            <select multiple id="node-input-a_kc_keys" >
                <option value='UP' data-i18n='alexa-device.label.UP'></option>
                <option value='DOWN' data-i18n='alexa-device.label.DOWN'></option>
                <option value='LEFT' data-i18n='alexa-device.label.LEFT'></option>
                <option value='RIGHT' data-i18n='alexa-device.label.RIGHT'></option>
                <option value='SELECT' data-i18n='alexa-device.label.SELECT'></option>
                <option value='PAGE_UP' data-i18n='alexa-device.label.PAGE_UP'></option>
                <option value='PAGE_DOWN' data-i18n='alexa-device.label.PAGE_DOWN'></option>
                <option value='PAGE_LEFT' data-i18n='alexa-device.label.PAGE_LEFT'></option>
                <option value='PAGE_RIGHT' data-i18n='alexa-device.label.PAGE_RIGHT'></option>
                <option value='INFO' data-i18n='alexa-device.label.INFO'></option>
                <option value='MORE' data-i18n='alexa-device.label.MORE'></option>
            </select>
        </div>
    </div>
    
    <div class="form-row">
        <span data-i18n="alexa-device.label.interfaces"></span>
    </div>

    <div class="form-row red-ui-editableList-border div_trait" id="i_lock_controller" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_lock_controller" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.lock_controller"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-lockcontroller.html"><i class="fa fa-external-link"></i></a>
        </div>
    </div>
     
    <div class="form-row red-ui-editableList-border div_trait" id="i_media_metadata" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_media_metadata" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.media_metadata"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-mediametadata.html"><i class="fa fa-external-link"></i></a>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_mode_controller" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_mode_controller" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.mode_controller"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-modecontroller.html"><i class="fa fa-external-link"></i></a>
        </div>

        <div class="form-row" style="margin-bottom:0;">
            <i class="fa fa-list"></i> <span data-i18n="alexa-device.label.modes"></span>
        </div>
        <div class="form-row node-input-mode-container-row">
            <ol id="node-input-mode-container"></ol>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_motion_sensor" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_motion_sensor" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.motion_sensor"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-motionsensor.html"><i class="fa fa-external-link"></i></a>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_percentage_controller" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_percentage_controller" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.percentage_controller"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-percentagecontroller.html"><i class="fa fa-external-link"></i></a>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_playback_controller" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_playback_controller" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.playback_controller"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-playbackcontroller.html"><i class="fa fa-external-link"></i></a>
        </div>

        <div class="form-row">
            <label for="node-input-a_playback_modes"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.modes"></span></label>
            <select multiple id="node-input-a_playback_modes" >
                <option value='Play' data-i18n='alexa-device.label.Play'></option>
                <option value='Pause' data-i18n='alexa-device.label.Pause'></option>
                <option value='Stop' data-i18n='alexa-device.label.Stop'></option>
                <option value='StartOver' data-i18n='alexa-device.label.StartOver'></option>
                <option value='Previous' data-i18n='alexa-device.label.Previous'></option>
                <option value='Next' data-i18n='alexa-device.label.Next'></option>
                <option value='Rewind' data-i18n='alexa-device.label.Rewind'></option>
                <option value='FastForward' data-i18n='alexa-device.label.FastForward'></option>
            </select>
        </div>
    </div>

    <div class="form-row red-ui-editableList-border div_trait" id="i_playback_state_reporter" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_playback_state_reporter" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.playback_state_reporter"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-playbackstatereporter.html"><i class="fa fa-external-link"></i></a>
        </div>
    </div>

    <div class="form-row red-ui-editableList-border div_trait" id="i_power_controller" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_power_controller" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.power_controller"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-powercontroller.html"><i class="fa fa-external-link"></i></a>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_power_level_controller" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_power_level_controller" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.power_level_controller"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-powerlevelcontroller.html"><i class="fa fa-external-link"></i></a>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_range_controller" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_range_controller" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.range_controller"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-rangecontroller.html"><i class="fa fa-external-link"></i></a>
        </div>

        <div class="form-row" style="margin-bottom:0;">
            <i class="fa fa-list"></i> <span data-i18n="alexa-device.label.ranges"></span>
        </div>
        <div class="form-row node-input-range-container-row">
            <ol id="node-input-range-container"></ol>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" hidden id="i_rtc_session_controller" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_rtc_session_controller" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.i_rtc_session_controller"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-rtcsessioncontroller.html"><i class="fa fa-external-link"></i></a>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_scene_controller" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_scene_controller" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.scene_controller"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-scenecontroller.html"><i class="fa fa-external-link"></i></a>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_security_panel_controller" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_security_panel_controller" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.security_panel_controller"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-securitypanelcontroller.html"><i class="fa fa-external-link"></i></a>
        </div>

        <div class="form-row">
            <label for="node-input-arm_state"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.arm_state"></span></label>
            <select multiple id="node-input-arm_state" >
                <option value='DISARMED' data-i18n='alexa-device.label.DISARMED'></option>
                <option value='ARMED_STAY' data-i18n='alexa-device.label.ARMED_STAY'></option>
                <option value='ARMED_NIGHT' data-i18n='alexa-device.label.ARMED_NIGHT'></option>
                <option value='ARMED_AWAY' data-i18n='alexa-device.label.ARMED_AWAY'></option>
            </select>
        </div>

        <div class="form-row">
            <label for="node-input-alarms"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.alarms"></span></label>
            <select multiple id="node-input-alarms" >
                <option value='burglaryAlarm' data-i18n='alexa-device.label.burglary_alarm'></option>
                <option value='carbonMonoxideAlarm' data-i18n='alexa-device.label.carbon_monoxide_alarm'></option>
                <option value='fireAlarm' data-i18n='alexa-device.label.fire_alarm'></option>
                <option value='waterAlarm' data-i18n='alexa-device.label.water_alarm'></option>
            </select>
        </div>

        <div class="form-row">
            <label for="node-input-pin_code"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.pin_code"></span></label>
            <input type="text" id="node-input-pin_code" data-i18n="[placeholder]alexa-device.placeholder.pin_code">
        </div>

        <div class="form-row">
            <label for="node-input-exit_delay"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.exit_delay"></span></label>
            <input type="text" id="node-input-exit_delay" data-i18n="[placeholder]alexa-device.placeholder.exit_delay">
        </div>

    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_speaker" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_speaker" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.speaker"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-speaker.html"><i class="fa fa-external-link"></i></a>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_step_speaker" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_step_speaker" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.step_speaker"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-stepspeaker.html"><i class="fa fa-external-link"></i></a>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_temperature_sensor" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_temperature_sensor" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.temperature_sensor"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-temperaturesensor.html"><i class="fa fa-external-link"></i></a>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_thermostat_controller" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_thermostat_controller" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.thermostat_controller"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-thermostatcontroller.html"><i class="fa fa-external-link"></i></a>
        </div>
    
        <div class="form-row">
            <label for="node-input-a_modes"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.modes"></span></label>
            <select multiple id="node-input-a_modes" >
                <option value='AUTO' data-i18n='alexa-device.label.AUTO'></option>
                <option value='COOL' data-i18n='alexa-device.label.COOL'></option>
                <option value='HEAT' data-i18n='alexa-device.label.HEAT'></option>
                <option value='ECO' data-i18n='alexa-device.label.ECO'></option>
                <option value='OFF' data-i18n='alexa-device.label.OFF'></option>
            </select>
        </div>

        <div class="form-row">
            <input type="checkbox" id="node-input-a_target_setpoint" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.label.target_setpoint"></span>
        </div>

        <div class="form-row">
            <input type="checkbox" id="node-input-a_lower_setpoint" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.label.lower_setpoint"></span>
        </div>

        <div class="form-row">
            <input type="checkbox" id="node-input-a_upper_setpoint" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.label.upper_setpoint"></span>
        </div>

        <div class="form-row">
            <input type="checkbox" id="node-input-a_supports_scheduling" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.label.supports_scheduling"></span>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_thermostat_controller_hvac_components" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_thermostat_controller_hvac_components" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.thermostat_controller_hvac_components"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-thermostatcontroller-hvac-components.html"><i class="fa fa-external-link"></i></a>
        </div>

        <div class="form-row">
            <label for="node-input-primary_heater_operation"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.primary_heater_operation"></span></label>
            <select id="node-input-primary_heater_operation" >
                <option value='' data-i18n='alexa-device.label.NONE'></option>
                <option value='1' data-i18n='alexa-device.label.STAGE_1'></option>
                <option value='2' data-i18n='alexa-device.label.STAGE_2'></option>
                <option value='3' data-i18n='alexa-device.label.STAGE_3'></option>
            </select>
        </div>

        <div class="form-row">
            <input type="checkbox" id="node-input-auxiliary_heater_operation" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.label.auxiliary_heater_operation"></span>
        </div>

        <div class="form-row">
            <label for="node-input-cooler_operation"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.cooler_operation"></span></label>
            <select id="node-input-cooler_operation" >
                <option value='' data-i18n='alexa-device.label.NONE'></option>
                <option value='1' data-i18n='alexa-device.label.STAGE_1'></option>
                <option value='2' data-i18n='alexa-device.label.STAGE_2'></option>
                <option value='3' data-i18n='alexa-device.label.STAGE_3'></option>
            </select>
        </div>

        <div class="form-row">
            <label for="node-input-fan_operation"><i class="fa fa-tag"></i> <span data-i18n="alexa-device.label.fan_operation"></span></label>
            <select id="node-input-fan_operation" >
                <option value='' data-i18n='alexa-device.label.NONE'></option>
                <option value='1' data-i18n='alexa-device.label.STAGE_1'></option>
                <option value='2' data-i18n='alexa-device.label.STAGE_2'></option>
                <option value='3' data-i18n='alexa-device.label.STAGE_3'></option>
            </select>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" hidden id="i_timehold_controller" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_timehold_controller" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.timehold_controller"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-timeholdcontroller.html"><i class="fa fa-external-link"></i></a>
        </div>

        <div class="form-row">
            <input type="checkbox" id="node-input-allow_remote_resume" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.label.allow_remote_resume"></span>
        </div>
    </div>

    <div class="form-row red-ui-editableList-border div_trait" id="i_toggle_controller" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_toggle_controller" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.toggle_controller"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-togglecontroller.html"><i class="fa fa-external-link"></i></a>
        </div>

        <div class="form-row" style="margin-bottom:0;">
            <i class="fa fa-list"></i> <span data-i18n="alexa-device.label.toggles"></span>
        </div>
        <div class="form-row node-input-toggle-container-row">
            <ol id="node-input-toggle-container"></ol>
        </div>
    </div>
    
    <div class="form-row red-ui-editableList-border div_trait" id="i_wake_on_lan_controller" style="background: #fbfbfb; padding: 5px;">
        <div class="form-row">
            <input type="checkbox" id="node-input-i_wake_on_lan_controller" style="display:inline-block; width:20px; vertical-align:baseline;">
            <span data-i18n="alexa-device.interface.wake_on_lan_controller"></span>
            <a target="_blank" class="red-ui-palette-module-link" href="https://developer.amazon.com/en-US/docs/alexa/device-apis/alexa-wakeonlancontroller.html"><i class="fa fa-external-link"></i></a>
        </div>

       <div class="form-row" style="margin-bottom:0;">
            <i class="fa fa-list"></i> <span data-i18n="alexa-device.label.MACAddresses"></span>
        </div>
        <div class="form-row node-input-mac_address-container-row">
            <ol id="node-input-mac_address-container"></ol>
        </div>
    </div>
</script>